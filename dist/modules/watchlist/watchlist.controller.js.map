{"version":3,"file":"watchlist.controller.js","sourceRoot":"","sources":["../../../src/modules/watchlist/watchlist.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA,2CASwB;AACxB,2DAAuD;AACvD,+BAAqC;AACrC,sDAAsD;AACtD,yCAAyE;AACzE,6CAAuD;AAIhD,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;IAC9B,YAA6B,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAG,CAAC;IAMnE,WAAW,CACD,QAAsB,EACvB,OAAO;QAEd,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QAC1B,OAAO,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC3D,CAAC;IAgBD,aAAa,CAAQ,OAAO;QAC1B,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QAK1B,OAAO,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACtD,CAAC;IAOD,WAAW,CAAc,OAAe,EAAS,OAAO;QACtD,MAAM,EAAE,EAAE,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC;QAC5B,OAAO,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC;CACF,CAAA;AA/CY,kDAAmB;AAO9B;IAJC,IAAA,iBAAO,EAAC,KAAK,CAAC;IACd,IAAA,qBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,+BAAoB,EAAE,CAAC;IACxD,IAAA,kBAAS,EAAC,wBAAY,CAAC;IACvB,IAAA,aAAI,EAAC,QAAQ,CAAC;IAEZ,WAAA,IAAA,aAAI,GAAE,CAAA;IACN,WAAA,IAAA,YAAG,GAAE,CAAA;;qCADY,kBAAY;;sDAK/B;AAgBD;IAJC,IAAA,iBAAO,EAAC,KAAK,CAAC;IACd,IAAA,qBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,gCAAqB,EAAE,CAAC;IACzD,IAAA,kBAAS,EAAC,wBAAY,CAAC;IACvB,IAAA,YAAG,EAAC,cAAc,CAAC;IACL,WAAA,IAAA,YAAG,GAAE,CAAA;;;;wDAOnB;AAOD;IAJC,IAAA,iBAAO,EAAC,KAAK,CAAC;IACd,IAAA,qBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;IAC5B,IAAA,kBAAS,EAAC,wBAAY,CAAC;IACvB,IAAA,eAAM,GAAE;IACI,WAAA,IAAA,cAAK,EAAC,IAAI,CAAC,CAAA;IAAmB,WAAA,IAAA,YAAG,GAAE,CAAA;;;;sDAG/C;8BA9CU,mBAAmB;IAD/B,IAAA,mBAAU,EAAC,WAAW,CAAC;qCAEyB,oCAAgB;GADpD,mBAAmB,CA+C/B","sourcesContent":["\n\nimport {\n  Body,\n  Controller,\n  Delete,\n  Get,\n  Post,\n  Query,\n  Req,\n  UseGuards,\n} from \"@nestjs/common\";\nimport { WatchlistService } from \"./watchlist.service\";\nimport { WatchlistDTO } from \"./dto\";\nimport { JwtAuthGuard } from \"../../guards/jwt-guard\";\nimport { CreateAssetsResponse, GetUserAssetsResponse } from \"./response\";\nimport { ApiResponse, ApiTags } from \"@nestjs/swagger\";\nimport { Watchlist } from \"./models/watchlist.model\";\n\n@Controller(\"watchlist\")\nexport class WatchlistController {\n  constructor(private readonly watchlistService: WatchlistService) {}\n\n  @ApiTags(\"API\")\n  @ApiResponse({ status: 201, type: CreateAssetsResponse })\n  @UseGuards(JwtAuthGuard)\n  @Post(\"create\")\n  createAsset(\n    @Body() assetDto: WatchlistDTO,\n    @Req() request,\n  ): Promise<CreateAssetsResponse> {\n    const user = request.user;\n    return this.watchlistService.createAsset(user, assetDto);\n  }\n\n  // @Get('get-all')\n  //getAllAssets() {\n  //  return;\n  //}\n\n  // @Patch('update')\n  //updateAsset() {\n  //  return;\n  // }\n  //get asset element\n  @ApiTags(\"API\")\n  @ApiResponse({ status: 200, type: GetUserAssetsResponse })\n  @UseGuards(JwtAuthGuard)\n  @Get(\"get-elements\")\n  getUserAssets(@Req() request): Promise<Watchlist[]> {\n    const user = request.user;\n    // console.log('------------');\n    // console.log(user);\n    // console.log(user.id);\n    // console.log('-----------');\n    return this.watchlistService.getUserAssets(user.id);\n  }\n\n  //deleteAsset\n  @ApiTags(\"API\")\n  @ApiResponse({ status: 200 })\n  @UseGuards(JwtAuthGuard)\n  @Delete()\n  deleteAsset(@Query(\"id\") assetId: string, @Req() request): Promise<boolean> {\n    const { id } = request.user;\n    return this.watchlistService.deleteAsset(id, assetId);\n  }\n}\n"]}